<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Jan Verbesselt, Jorge Mendes de Jesus, Aldo Bergsma, Johannes Eberenz, Dainius Masiliunas, David Swinkels, Judith Verstegen, Corné Vreugdenhil, Arno Timmer" />
  <title>Tutorial 8: Python refresher</title>
  <style type="text/css">
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

  <!-- bootstrap -->
  <!--<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet"  id="style">-->
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

  <!-- highlight.js -->
  <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" rel="stylesheet" id="code-style">-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  <script>
  hljs.LANGUAGES.r=function(a){var b="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[a.HCM,{b:b,l:b,k:{keyword:"function if in break next repeat else for return switch while try tryCatch|10 stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...|10",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[a.BE],r:0},{cN:"string",b:"'",e:"'",c:[a.BE],r:0}]}}(hljs); </script>
  <!--<script type="text/javascript", src="https://yandex.st/highlightjs/7.3/languages/r.min.js"></script>-->

  <!-- Manific Popup -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/0.8.9/jquery.magnific-popup.min.js"></script>

  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script defer="defer">
  // Function to generate the dynamic table of contents
  jQuery.fn.generate_TOC = function () {
    var base = $(this[0]);

    var selectors = ['h1', 'h2', 'h3', 'h4'];

    var last_ptr = [{}, {}, {}, {}];

    var anchors = {};

    generate_anchor = function (text) {
      var test = text.replace(/\W/g, '_');

      while(test in anchors){
        //if no suffix, add one
        if(test.match(/_\d+$/) === null){
          test = test + "_2";
        }
        //else generate unique id for duplicates by adding one to the suffix
        else {
          test = test.replace(/_(\d+)$/, function(match, number){ var num=+number+1; return("_" + num) });
        }
      }
      anchors[test]=1;
      return(test);
    }

    $(selectors.join(',')).filter(function(index) { return $(this).parent().attr("id") != 'header'; }).each(function () {

      var heading = $(this);
      var idx = selectors.indexOf(heading.prop('tagName').toLowerCase());
      var itr = 0;

      while (itr <= idx) {
        if (jQuery.isEmptyObject(last_ptr[itr])) {
          last_ptr[itr] = $('<ul>').addClass('nav');
          if (itr === 0) {
            base.append(last_ptr[itr])
          } else {
            if(last_ptr[itr-1].children('li').length === 0){
              last_ptr[itr-1].append(last_ptr[itr]);
            }
            else {
              last_ptr[itr - 1].children('li').last().append(last_ptr[itr]);
            }
          }
        }
        itr++;
      }
      var anchor = generate_anchor(heading.text());
      heading.attr('id', anchor);
      var a = $('<a>')
      .text(heading.text())
      .attr('href', '#' + anchor);

    var li = $('<li>')
      .append(a);

    last_ptr[idx].append(li);
    for (i = idx + 1; i < last_ptr.length; i++) {
      last_ptr[i] = {};
    }
    });
  }
  /* run scripts when document is ready */
  $(function() {
    "use strict";

    var $window = $(window);
    var $body = $(document.body);

    /* size of thumbnails */

    var hidden_types = ['source']
    var output_types = ['output', 'message', 'warning', 'error']

    /* style tables */
    $('table').addClass('table table-striped table-bordered table-hover table-condensed');

    $('pre code').each(function(i, e) {
      hljs.highlightBlock(e);
    });

    /* Magnific Popup */
    $(".thumbnail").each(function(){
      $(this).magnificPopup({
        disableOn: 768,
        closeOnContentClick: true,

        type: 'image',
        items: {
          src: $(this).find('img').attr('src'),
        }
      });
    });

    function toggle_block(obj, show) {
      var span = obj.find('span');
      if(show === true){
        span.removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
        obj.next('pre').slideDown();
      }
      else {
        span.removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
        obj.next('pre').slideUp();
      }
    }

    function toggle_thumbnails(imgs, show){
      if(show === true){
        imgs.parents().show()
        imgs.slideDown();
      }
      else {
        imgs.slideUp(400, function(){ $(this).parent().hide(); });
      }
    }

    function global_toggle(obj){
      var type = obj.attr('type');
      var show = !obj.parent('li').hasClass('active');
      if(show === true){
        obj.parent('li').addClass('active');
      }
      else{
        obj.parent('li').removeClass('active');
      }
      if(type == 'figure'){
        toggle_thumbnails($('.thumbnail img'), show);
      }
      else {
        $('.toggle.' + type).each(function() { toggle_block($(this), show); });
      }
    }

    /* onclick toggle next code block */
    $('.toggle').click(function() {
      var span = $(this).find('span');
      toggle_block($(this), !span.hasClass('glyphicon-chevron-down'));
      return false
    })

    // global toggles
    $('.toggle-global').click(function(){
      var type = $(this).attr('type');
      if(type === 'all-source'){
          $('li a.source').each(function() {
            global_toggle($(this));
          });
        }
      else if(type === 'all-output'){
        $.each(output_types, function(i, val){
          console.log(val);
          global_toggle($('li a.' + val));
        });
      }
      else {
        console.log($(this));
        global_toggle($(this));
      }
      return false;
    });
    /* table of contents */
    if($(['h1', 'h2', 'h3', 'h4'].join(',')).length > 0){
      $('body > #wrap > .container > .row').append('<div class="col-md-2"><div id="toc" class="well sidebar sidenav affix hidden-print"/></div>');
      $('#toc').generate_TOC();
    }

    $.each(hidden_types, function(i, type) {
      $('li[type=' + type + ']').each(function(){ global_toggle($(this)); });
    });

    /* remove paragraphs with no content */
    $('p:empty').remove();

    $body.scrollspy({
      target: '.sidebar',
    });

    /* theme switch */
    $('.theme-switch').click(function(){
      var css = $('link[title=' + $(this).attr('title') + ']');
      $('#theme[rel=stylesheet]').attr('href', css.attr('href'));
      $('.theme-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
    /* code style switch */ //TODO use same function for both of these?
    $('.highlight-switch').click(function(){
      var css = $('link[title="' + $(this).attr('title') + '"]');
      $('#highlight[rel=stylesheet]').attr('href', css.attr('href'));
      $('.highlight-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });

    //TODO refresh on show/hide
    $window.on('load', function () {
      $body.scrollspy('refresh');
    })

  });

  </script>
  <style>
  /* Knitr_bootstrap styles */
  #header {
    display: none !important;
    visibility: hidden !important;
  }
  #wrap .container-fluid {
    padding: 0;
    overflow: hidden;
  }
  .toggle{
    text-transform: capitalize;
  }

  .toggle-global{
    text-transform: capitalize;
  }

  /* Sticky footer styles */
  * {
    margin:0;
  }
  html,
  body {
      height: 100%;
      padding:0 !important;
      /* The html and body elements cannot have any padding or margin. */
      /*overflow-x: hidden;*/
  }

  /* Wrapper for page content to push down footer */
  #wrap {
      min-height: 100%;
      height: auto !important;
      height: 100%;
      /* Negative indent footer by it's height */
      margin: 0 auto -120px;
  }

  /* Set the fixed height of the footer here */
  #push,
  #footer {
      height: 120px;
  }

  #footer {
    text-align: center;
  }

  /* Top level subheader elements.  These are the first nested items underneath a header element. */
  .header li {
    font-size: 20px;
  }

  /* Makes the font smaller for all subheader elements. */
  .sub-header li {
      font-size: 12px;
  }

  button.thumbnails {
    margin-left:0px;
  }

  /*
   * Side navigation
   *
   * Scrollspy and affixed enhanced navigation to highlight sections and secondary
   * sections of docs content.
   */

  /* By default it's not affixed in mobile views, so undo that */
  .sidebar.affix {
    position: static;
  }

  /* First level of nav */
  .sidenav {
    margin-top: 30px;
    margin-bottom: 30px;
    padding-top:    10px;
    padding-bottom: 10px;
    border-radius: 5px;
  }

  /* All levels of nav */
  .sidebar .nav > li > a {
    display: block;
    padding: 5px 20px;
  }
  .sidebar .nav > li > a:hover,
  .sidebar .nav > li > a:focus {
    text-decoration: none;
    border-right: 1px solid;
  }
  .sidebar .nav > .active > a,
  .sidebar .nav > .active:hover > a,
  .sidebar .nav > .active:focus > a {
    font-weight: bold;
    background-color: transparent;
    border-right: 1px solid;
  }

  /* Nav: second level (shown on .active) */
  .sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    margin-bottom: 8px;
  }
  .sidebar .nav .nav > li > a {
    padding-top:    3px;
    padding-bottom: 3px;
    padding-left: 30px;
    font-size: 90%;
  }

  .sidebar .nav .nav .nav > li > a {
    padding-left: 40px;
  }
  .sidebar .nav .nav .nav .nav > li > a {
    padding-left: 50px;
  }

  /* Show and affix the side nav when space allows it */
  @media screen and (min-width: 992px) {
    .sidebar .nav > .active > ul {
      display: block;
    }
    /* Widen the fixed sidebar */
    .sidebar.affix,
    .sidebar.affix-bottom {
      width: 213px;
    }
    .sidebar.affix-top,
    .sidebar.affix {
      position: fixed; /* Undo the static from mobile first approach */
      top: 30px;
    }
    .sidebar.affix-bottom {
      position: absolute; /* Undo the static from mobile first approach */
    }
    .sidebar.affix-bottom .sidenav,
    .sidebar.affix .sidenav {
      margin-top: 0;
      margin-bottom: 0;
    }
  }
  @media screen and (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .sidebar.affix-bottom,
    .sidebar.affix {
      width: 263px;
    }
  }

  #toc {
    padding: 10px 0px;
    margin:0;
    border:0;
  }


  .panel pre {
    margin: 0;
    padding: 0;
    border: 0;
  }
  button + pre {
    margin: 0;
    padding: 0;
  }
  pre code {
    border-radius: 0;
  }
  /* Magnific Popup CSS */
  .mfp-bg {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1042;
    overflow: hidden;
    position: fixed;
    background: #0b0b0b;
    opacity: 0.8;
    filter: alpha(opacity=80); }

  .mfp-wrap {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1043;
    position: fixed;
    outline: none !important;
    -webkit-backface-visibility: hidden; }

  .mfp-container {
    text-align: center;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    padding: 0 8px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box; }

  .mfp-container:before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle; }

  .mfp-align-top .mfp-container:before {
    display: none; }

  .mfp-content {
    position: relative;
    display: inline-block;
    vertical-align: middle;
    margin: 0 auto;
    text-align: left;
    z-index: 1045; }

  .mfp-inline-holder .mfp-content,
  .mfp-ajax-holder .mfp-content {
    width: 100%;
    cursor: auto; }

  .mfp-ajax-cur {
    cursor: progress; }

  .mfp-zoom-out-cur,
  .mfp-zoom-out-cur .mfp-image-holder .mfp-close {
    cursor: -moz-zoom-out;
    cursor: -webkit-zoom-out;
    cursor: zoom-out; }

  .mfp-zoom {
    cursor: pointer;
    cursor: -webkit-zoom-in;
    cursor: -moz-zoom-in;
    cursor: zoom-in; }

  .mfp-auto-cursor .mfp-content {
    cursor: auto; }

  .mfp-close,
  .mfp-arrow,
  .mfp-preloader,
  .mfp-counter {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none; }

  .mfp-loading.mfp-figure {
    display: none; }

  .mfp-hide {
    display: none !important; }

  .mfp-preloader {
    color: #cccccc;
    position: absolute;
    top: 50%;
    width: auto;
    text-align: center;
    margin-top: -0.8em;
    left: 8px;
    right: 8px;
    z-index: 1044; }

  .mfp-preloader a {
    color: #cccccc; }

  .mfp-preloader a:hover {
    color: white; }

  .mfp-s-ready .mfp-preloader {
    display: none; }

  .mfp-s-error .mfp-content {
    display: none; }

  button.mfp-close,
  button.mfp-arrow {
    overflow: visible;
    cursor: pointer;
    background: transparent;
    border: 0;
    -webkit-appearance: none;
    display: block;
    padding: 0;
    z-index: 1046;
    -webkit-box-shadow: none;
    box-shadow: none; }

  button::-moz-focus-inner {
    padding: 0;
    border: 0; }

  .mfp-close {
    width: 44px;
    height: 44px;
    line-height: 44px;
    position: absolute;
    right: 0;
    top: 0;
    text-decoration: none;
    text-align: center;
    opacity: 0.65;
    padding: 0 0 18px 10px;
    color: white;
    font-style: normal;
    font-size: 28px;
    font-family: Arial, Baskerville, monospace; }
    .mfp-close:hover, .mfp-close:focus {
      opacity: 1; }
    .mfp-close:active {
      top: 1px; }

  .mfp-close-btn-in .mfp-close {
    color: #333333; }

  .mfp-image-holder .mfp-close,
  .mfp-iframe-holder .mfp-close {
    color: white;
    right: -6px;
    text-align: right;
    padding-right: 6px;
    width: 100%; }

  .mfp-counter {
    position: absolute;
    top: 0;
    right: 0;
    color: #cccccc;
    font-size: 12px;
    line-height: 18px; }

  .mfp-arrow {
    position: absolute;
    opacity: 0.65;
    margin: 0;
    top: 50%;
    margin-top: -55px;
    padding: 0;
    width: 90px;
    height: 110px;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }

  .mfp-arrow:active {
    margin-top: -54px; }

  .mfp-arrow:hover,
  .mfp-arrow:focus {
    opacity: 1; }

  .mfp-arrow:before, .mfp-arrow:after,
  .mfp-arrow .mfp-b,
  .mfp-arrow .mfp-a {
    content: '';
    display: block;
    width: 0;
    height: 0;
    position: absolute;
    left: 0;
    top: 0;
    margin-top: 35px;
    margin-left: 35px;
    border: medium inset transparent; }
  .mfp-arrow:after,
  .mfp-arrow .mfp-a {
    border-top-width: 13px;
    border-bottom-width: 13px;
    top: 8px; }
  .mfp-arrow:before,
  .mfp-arrow .mfp-b {
    border-top-width: 21px;
    border-bottom-width: 21px; }

  .mfp-arrow-left {
    left: 0; }
    .mfp-arrow-left:after,
    .mfp-arrow-left .mfp-a {
      border-right: 17px solid white;
      margin-left: 31px; }
    .mfp-arrow-left:before,
    .mfp-arrow-left .mfp-b {
      margin-left: 25px;
      border-right: 27px solid #3f3f3f; }

  .mfp-arrow-right {
    right: 0; }
    .mfp-arrow-right:after,
    .mfp-arrow-right .mfp-a {
      border-left: 17px solid white;
      margin-left: 39px; }
    .mfp-arrow-right:before,
    .mfp-arrow-right .mfp-b {
      border-left: 27px solid #3f3f3f; }

  .mfp-iframe-holder {
    padding-top: 40px;
    padding-bottom: 40px; }

  .mfp-iframe-holder .mfp-content {
    line-height: 0;
    width: 100%;
    max-width: 900px; }

  .mfp-iframe-scaler {
    width: 100%;
    height: 0;
    overflow: hidden;
    padding-top: 56.25%; }

  .mfp-iframe-scaler iframe {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: black; }

  .mfp-iframe-holder .mfp-close {
    top: -40px; }

  /* Main image in popup */
  img.mfp-img {
    width: auto;
    max-width: 100%;
    height: auto;
    display: block;
    line-height: 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 40px 0 40px;
    margin: 0 auto; }

  /* The shadow behind the image */
  .mfp-figure:after {
    content: '';
    position: absolute;
    left: 0;
    top: 40px;
    bottom: 40px;
    display: block;
    right: 0;
    width: auto;
    height: auto;
    z-index: -1;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: #444444; }

  .mfp-figure {
    line-height: 0; }

  .mfp-bottom-bar {
    margin-top: -36px;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    cursor: auto; }

  .mfp-title {
    text-align: left;
    line-height: 18px;
    color: #f3f3f3;
    word-wrap: break-word;
    padding-right: 36px; }

  .mfp-figure small {
    color: #bdbdbd;
    display: block;
    font-size: 12px;
    line-height: 14px; }

  .mfp-image-holder .mfp-content {
    max-width: 100%; }

  .mfp-gallery .mfp-image-holder .mfp-figure {
    cursor: pointer; }

  @media screen and (max-width: 800px) and (orientation: landscape), screen and (max-height: 300px) {
    /**
     * Remove all paddings around the image on small screen
     */
    .mfp-img-mobile .mfp-image-holder {
      padding-left: 0;
      padding-right: 0; }

    .mfp-img-mobile img.mfp-img {
      padding: 0; }

    /* The shadow behind the image */
    .mfp-img-mobile .mfp-figure:after {
      top: 0;
      bottom: 0; }

    .mfp-img-mobile .mfp-bottom-bar {
      background: rgba(0, 0, 0, 0.6);
      bottom: 0;
      margin: 0;
      top: auto;
      padding: 3px 5px;
      position: fixed;
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box; }

    .mfp-img-mobile .mfp-bottom-bar:empty {
      padding: 0; }

    .mfp-img-mobile .mfp-counter {
      right: 5px;
      top: 3px; }

    .mfp-img-mobile .mfp-close {
      top: 0;
      right: 0;
      width: 35px;
      height: 35px;
      line-height: 35px;
      background: rgba(0, 0, 0, 0.6);
      position: fixed;
      text-align: center;
      padding: 0; }

    .mfp-img-mobile .mfp-figure small {
      display: inline;
      margin-left: 5px; } }
  @media all and (max-width: 900px) {
    .mfp-arrow {
      -webkit-transform: scale(0.75);
      transform: scale(0.75); }

    .mfp-arrow-left {
      -webkit-transform-origin: 0;
      transform-origin: 0; }

    .mfp-arrow-right {
      -webkit-transform-origin: 100%;
      transform-origin: 100%; }

    .mfp-container {
      padding-left: 6px;
      padding-right: 6px; } }
  .mfp-ie7 .mfp-img {
    padding: 0; }
  .mfp-ie7 .mfp-bottom-bar {
    width: 600px;
    left: 50%;
    margin-left: -300px;
    margin-top: 5px;
    padding-bottom: 5px; }
  .mfp-ie7 .mfp-container {
    padding: 0; }
  .mfp-ie7 .mfp-content {
    padding-top: 44px; }
  .mfp-ie7 .mfp-close {
    top: 0;
    right: 0;
    padding-top: 0; }

  //Magnific overrides
  .mfp-image img{
    background: white;
  }
  .mfp-figure:after {
    background: white;
  }

  /*
   * Off Canvas navbar toggle right
   * --------------------------------------------------
   */

  @media screen and (max-width: 768px) {
    .row-offcanvas .collapsing {
    -webkit-transition: none 0;
      -moz-transition: none 0;
      transition: none 0;
    }
   .row-offcanvas .navbar {
    position: absolute;
    z-index: 2;
      right:0;
      height:100%;
      width:55px;
      border:0;
      background-color:transparent;
    }
    .row-offcanvas .navbar-toggle {
      margin-right: 5px;
      margin-left: 5px;
    }
    .row-offcanvas {
      position: relative;
    }
    .row-offcanvas-right.active .navbar {
    position: absolute;
    z-index: 2;
      right: -28.4%;
      width:40%;
      background-color:#eee;
      border:0 solid #ddd;
      border-left-width:1px;
    }
    .row-offcanvas-right.active {
      left: -30%;
    }
    .row-offcanvas-right.active .navbar-collapse {
      position: relative;
      width: 100%;
    }
    .row-offcanvas .content {
    /*width:calc(100% - 60px);*/
    }
  }
  </style>
</head>
<body>
<title>
Tutorial 8: Python refresher
</title>
<div id="wrap">
<div class="container">
<div class="row row-offcanvas row-offcanvas-right">
<div class="contents col-xs-12 col-md-10">
<style type="text/css">
body {max-width: none;}
a:visited {color: #91170a;}
</style>
<h1 id="wur-geoscripting"><a
href="https://geoscripting-wur.github.io/">WUR Geoscripting</a>
<img src="https://www.wur.nl/upload/854757ab-168f-46d7-b415-f8b501eebaa5_WUR_RGB_standard_2021-site.svg" alt="WUR logo" style="height: 35px;"/></h1>
<h1 id="week-3-tutorial-8-python-refresher">Week 3, Tutorial 8: Python
refresher</h1>
<h2 id="introduction">Introduction</h2>
<p>Good afternoon! Today we will start working with Python for
geoscripting and do a refresher of functions in Python. If you are
unfamiliar with Python and/or feel that you need more training, follow
one of the Datacamp courses as introduction into Python <em>before
today</em>:</p>
<ul>
<li><a
href="https://www.datacamp.com/courses/intro-to-python-for-data-science">Introduction
to Python</a> | recommended to follow if you haven’t any scripting
experience so far</li>
<li><a href="https://www.datacamp.com/courses/python-for-r-users">Python
for R users</a> | recommended if you have experience already in R</li>
</ul>
<h2 id="todays-learning-objectives">Today’s Learning objectives</h2>
<ul>
<li><p>Know how to work with virtual environments: <em>Conda</em> +
<em>Mamba</em></p></li>
<li><p>Know how to run a Python script from the terminal</p></li>
<li><p>Get introduced to Python editors and IDEs</p></li>
<li><p>Refresh Python programming knowledge</p></li>
<li><p>Know how to work with virtual environments: Conda +
Mamba</p></li>
<li><p>Get introduced to Python editors and IDEs</p></li>
<li><p>Familiarize yourself with python Objects and inheritance</p></li>
<li><p>Be able to visualize data using python and matplotlib</p></li>
</ul>
<h1 id="introduction-to-python">Introduction to Python</h1>
<p>Python is a jack-of-all-trades programming language that is free,
flexible, open-source, cross-platform and has a very large community
behind it. If you ask Python programmers what they like most about
Python, they will often cite its high readability and high availability
of good packages. There are many Python packages out there for
geoscripting, data wrangling, visualization and machine learning. For
example:</p>
<ul>
<li>Geoscripting
<ul>
<li>GeoPandas (Vector Processing)</li>
<li>Rasterio (Raster Processing)</li>
<li>GDAL/OGR (Vector and Raster Processing)</li>
<li>QGIS plugins (Open Source GIS)</li>
<li>ArcPy (Propietary GIS)</li>
</ul></li>
<li>Data Handling
<ul>
<li>Pandas (Dataframes and Data Analysis)</li>
<li>NumPy (Scientific Computing)</li>
</ul></li>
<li>Visualization
<ul>
<li>Matplotlib (General Graphics)</li>
<li>Seaborn (Statistical Graphics)</li>
<li>Folium (Interactive Maps)</li>
</ul></li>
<li>Machine Learning
<ul>
<li>scikit-learn (Machine Learning)</li>
<li>Keras + TensorFlow (Deep Learning)</li>
<li>PyTorch (Deep Learning)</li>
</ul></li>
</ul>
<h2 id="python-package-management-with-conda">Python package management
with Conda</h2>
<p>A set of tools co-exist for installing and managing Python packages.
It is possible to install packages on your base Python interpreter, but
sooner or later you will get conflicting Python packages since packages
have varying dependencies. It can even <a
href="https://askubuntu.com/questions/95037/what-is-the-best-way-to-install-python-packages">break
your system Python interpreter</a>.</p>
<p>Instead, we recommend to use a Python package manager that can make
use of virtual environments, such as <em>Conda</em> or <em>Mamba</em>.
That way, you can create a conda environment on your machine for each
project. In conda environments, basically anything, such as software, C
libraries or R packages can be installed. Here we use them here for
installing Python packages. Packages installed in one environment do not
interfere with your base Python or with other conda environments.
Additionally, it is possible to export and share the requirements for
your (open source) project with colaborators or users of your code.</p>
<h2 id="mamba-installation">Mamba installation</h2>
<p>For this course, we will make use of <em>Mamba</em>, a fast drop-in
reimplementation of the <em>Conda</em> package manager. It has its core
parts implemented in C++ for maximum efficiency, makes use of parallel
downloading of repository data and package files using multi-threading,
and uses <code>libsolv</code> for (much) faster dependency solving. To
install <em>Mamba</em> in your Linux environment, we have prepared a
short <em>Bash</em> script for you. Just run the following lines of
code, line by line, in a new terminal window.</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">git clone https://github.com/GeoScripting-WUR/InstallLinuxScript.git
cd InstallLinuxScript/user
chmod u+x ./install.sh
./install.sh</code></pre>
</div>
<!-- This should be kept for external students, TODO: think about how to combine this
<div class="row"><button class="source bash toggle btn btn-xs btn-primary"><span class="glyphicon glyphicon-chevron-down"></span> bash source</button><pre style=""><code class="source bash">MINICONDA_VERSION="Miniconda3-latest-Linux-x86_64"
pushd /tmp
curl -O https://repo.continuum.io/miniconda/${MINICONDA_VERSION}.sh
## This installation script will require user input
bash ${MINICONDA_VERSION}.sh
rm ${MINICONDA_VERSION}.sh
popd</code></pre></div>

Scroll down the license with enter. Accept License (i.e. type yes). Use default install location (i.e. press Enter). When prompted to prepend the *Conda* install location to path agree (i.e. type yes). This makes the Python interpreter of *Conda* the standard Python interpreter and allows you to run *Conda* commands from command line. -->
<p>This will install <em>Mamba</em> into <code>~/mamba</code>. Finally,
restart your terminal to be able to use <em>Mamba</em> and
<em>Conda</em> in the terminal. Next, let’s see how to use
<em>Mamba</em> in case you want make new virtual environments by
yourself, or install packages after creating the environment.</p>
<h2 id="mamba-usage">Mamba usage</h2>
<p><em>Mamba</em> creates isolated conda environments with sets of
packages, that do not interfere with your base Python or with other
conda environments. To create an environment:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba create --name geotest python numpy</code></pre>
</div>
<p>This would create a new environment called <em>geotest</em> with
<em>Python</em>, <em>NumPy</em> and <em>Spyder</em> installed into the
conda environment. Another option is to create an environment from a
<code>.yaml</code> file, in which all required modules are listed. You
will see an example of this later on in this tutorial. To create an
environment from such a file, you can use the argument
<code>--file</code> (or <code>--f</code> in short).</p>
<p>Let’s first list the currently available environments:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba info --envs</code></pre>
</div>
<p><em>Mamba</em> puts an asterisk (*) in front of the active
environment. Now we activate the environment. While <em>Mamba</em>
replaces <em>Conda</em> for most commands, this is not the case for
(de)activating environments:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash"># Cross-platform (but not always working, like in our VM, so we use the next option)
conda activate geotest

# Linux, macOS
source activate geotest

# Windows
activate geotest</code></pre>
</div>
<p>After this, the current environment is shown in parentheses in front
of your prompt (<code>(geotest)$</code>). Note that the activated
environment is only valid for the shell in which you activated it. For
instance, if you close the shell window and open a new one you will have
to activate it again.</p>
<p>After creating a conda environment, (additional) Python packages can
be installed. There are three possible ways to install packages, which
we list below.</p>
<ul>
<li>Using <em>Mamba</em> to install and manage conda packages. This
downloads conda packages using conda channels, which are URLs to
directories containing the conda packages. <strong>Generally, installing
conda packages using <em>Mamba</em> is the preferred
method.</strong></li>
<li>Using <em>pip</em> to install packages and <em>Mamba</em> to manage
these packages. <em>pip</em> is available for Windows, macOS and Linux.
<em>pip</em> can also install <a
href="https://www.lfd.uci.edu/~gohlke/Pythonlibs">binary wheels on
Windows</a>. You should generally not install packages from <em>pip</em>
in a conda environment unless it’s the last resort. This is because
after you use <em>pip</em> to modify an environment, you can no longer
use <code>conda</code>/<code>mamba</code> to do so (trying that will
break your environment, because <em>pip</em> does not communicate its
changes to <em>Conda</em>). Hence install packages with
<code>mamba</code> that you can first, and only then use
<code>pip</code>, and then never touch the environment with
<code>mamba</code> again (delete and start fresh if you need to).</li>
<li>Using the distribution’s package manager (only on Ubuntu, that is
<code>sudo apt-get install python-*</code>).</li>
</ul>
<p>The <code>mamba search</code> command searches a set of channels. By
default, packages are automatically downloaded and updated from the
default channel. To search for a package, type:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba search pandas</code></pre>
</div>
<p>This gives a list of all packages that have “pandas” in the name and
lists all available versions. To install:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba install pandas</code></pre>
</div>
<p>This installs the latest compatible version of <em>Pandas</em>. Note
that this would install it into your currently activated
environment.</p>
<p>Note that you can also install multiple packages at the same
time:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba install geopandas matplotlib</code></pre>
</div>
<p>As you saw with <em>Spyder</em> (which is an IDE, more on that
later), <em>Mamba</em> is also able to install some non-Python packages
that have Python bindings. This is useful for making sure your Python
and binary versions match and do not interfere with the system-wide
ones.</p>
<p>Some additional helpful utilities for package management in this
context are:</p>
<ul>
<li><code>mamba list</code> to check which packages are installed in
<code>root</code> or in the active environment;</li>
<li><code>python --version</code> or <code>gdal-config --version</code>
to check which Python or GDAL version is used in the environment;</li>
<li><code>which spyder</code> or <code>type spyder</code> to find out
which <em>Spyder</em> executable is used either from system or conda
environment.</li>
</ul>
<p>Removing packages is just as simple:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba remove geopandas pandas folium</code></pre>
</div>
<p>Now, we deactivate the environment and return to base
environment.</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash"># Cross-platform
conda deactivate

# Linux, macOS
source deactivate

# Windows
deactivate</code></pre>
</div>
<p>When we are finished, and do not need the environment for next time,
we can remove the environment <code>geotest</code>.</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba remove --name geotest --all</code></pre>
</div>
<h2 id="running-a-python-script-in-the-terminal">Running a Python script
in the terminal</h2>
<p>Within a conda environment, Python can be started directly, or can be
called to run a script file. To start Python directly:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">python</code></pre>
</div>
<p>Now, you can type Python expressions that will be executed one by
one:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">import sys
print('Good morning, you are running Python:', sys.version)</code></pre>
</div>
To go back, type:
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">exit()
# or 
quit()</code></pre>
</div>
<p>Usually, we do not want to run expressions one by one, but build
scripts instead, to ensure transferability and reproducibilty. Create a
new text file and (re)name it (to) <code>test.py</code>. Open it, for
example with a text editor, paste in the code you used above
(<code>import sys</code> etc.), and save the script. Navigate in the
terminal to the location where this script is stored, using
<code>cd</code>. Finally, run the script with:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">python test.py</code></pre>
</div>
<p>The output is printed to the terminal. Running a script from the
terminal is less error-prone than running it from an IDE (see the next
section), such as Spyder, as IDEs often keep variables in memory after
the script has finished running. Therefore, running a script from the
terminal is a good final test before submitting an exercise or
assignment.</p>
<h2 id="python-editors-and-ides">Python editors and IDEs</h2>
<p>There are many Integrated Development Environments [IDE] for Python,
and every programmer has their own preference. An IDE is a software
application that provides facilities for software development.</p>
<ul>
<li><a href="http://jupyter.org/">Jupyter Notebook</a> integrates
visualization with code and is suitable to make tutorials, simple
dashboards, quick visualizations, and do prototype testing. Jupyter
Notebooks run in your browser on a localhost server or on a web server.
They allow for various programming languages, e.g. Python, R, Julia,
Spark or PySpark.</li>
<li><a href="https://www.spyder-ide.org/">Spyder</a> is a lightweight
IDE. <em>In this course, Spyder is the recommended Python IDE.</em></li>
<li><a
href="https://www.jetbrains.com/help/pycharm/install-and-set-up-pycharm.html">PyCharm
Community Edition</a> is a free professional Python IDE with a lot of
advanced functionality, such as integrated GIT version control, code
completion, code checking, debugging and navigation. This IDE can
optionally be used by more advanced scripters during this course instead
of Spyder, but do know that you will not be assisted for solving
IDE-related issues.</li>
</ul>
<h3 id="jupyter-notebooks">Jupyter Notebooks</h3>
<p>Jupyter Notebooks integrate code and visualization, and are therefore
helpful for demonstration purposes. Install <code>jupyter</code> and the
module <code>folium</code> in an existing or new environment that
includes Python and start Jupyter:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">jupyter notebook</code></pre>
</div>
<p>Jupyter should pop up in your browser. You will see a menu with all
files in your working directory. The Jupyter Notebook will only see
files that are accessible from the working directory in which you
launched the notebook!</p>
<p>Make a new folder: <em>New</em> → <em>Folder</em>, rename the folder
(check the box next to the new ‘Untitled Folder’ and click
<strong>‘Rename’</strong> in the top) and, in this folder, create a new
Python3 Jupyter Notebook <em>New</em> → <em>Python 3</em>. Give your
notebook a name by clicking on <em>untitled</em>. Note that this creates
a file with the extension <em>.ipynb</em>, which stands for Jupyter
Notebook.</p>
<p>Feel free to have a go at the user interface tour (<em>Help</em> →
<em>User Interface Tour</em>), or hover over the toolbar to check out
the tools. The main tools are:</p>
<ul>
<li><em>Save and checkpoint</em></li>
<li><em>Insert cell below</em></li>
<li><em>Run</em></li>
<li><em>Code/Markdown/Heading</em> (List box)</li>
</ul>
<p>Similar to RMarkdown, Jupyter Notebooks have code cells
(<em>Code</em>) and text cells (<em>Markdown</em>). Insert two extra
cells by clicking the + button and change the first cell from code to
markdown. Enter some documentation for your code (e.g. your team name,
exercise and date). Leave the other cell on code.</p>
<p>Type the following Python code in the code cell:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">import folium

m = folium.Map(location=[51.9700000, 5.6666700], zoom_start=13)
m</code></pre>
</div>
<p>Run the code cell by selecting it and pressing the <em>Run</em>
button, or press <em>CTRL + Enter</em> or <em>Shift + Enter</em>. You’ll
see a map visualized below your code, similar to the one below. Try to
drag the map to play around with it.</p>
<p><img src="images/WUR_Basic_Folium_Map.png" alt="Wageningen University Basic Folium map" width="100%"></img></p>
<p>Your Jupyter Notebook is automatically saved as an
<code>.ipynb</code> file on your computer (the file extension comes from
the historic name “IPython Notebook”). The notebook can be downloaded as
a Python script, pdf or html. You can also save it manually.</p>
<p>To exit a notebook properly, use <em>File</em> → <em>Close and
Halt</em>. After that, by pressing Ctrl + c in the terminal where
Jupyter Notebook server is running, you cancel the running process. The
terminal goes back to command line and you can exit the virtual
environment by typing <code>conda deactivate</code>.</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">conda deactivate</code></pre>
</div>
<h3 id="spyder">Spyder</h3>
<p>The <a href="https://docs.spyder-ide.org/">Spyder IDE</a> can be
started in a terminal when the <em>Spyder</em> package is installed in
the active conda environment. So, using <em>Mamba</em>, make an
environment and install Spyder to that environment. Activate the
environment. Spyder will automatically make use of the Python
interpreter of the active conda environment. To start Spyder:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">spyder</code></pre>
</div>
<p>In Spyder you should see an editor, a file explorer and a console.
Have a look at the toolbar. Some important shortcuts are:</p>
<ul>
<li>F5 to run your script</li>
<li>CTRL + S to save your script</li>
<li>CTRL + 1 to comment/uncomment your code</li>
<li>TAB to indent your code</li>
<li>SHIFT + TAB to unindent your code</li>
</ul>
<p>Open a new file and save it somewhere as <code>main.py</code> (File –
&gt; New File –&gt; Save As). Test writing a few lines of code and
running the script.</p>
<h1 id="python-refresher">Python refresher</h1>
<h2 id="setting-up-the-environment">Setting up the environment</h2>
<p>In the second part of this tutorial we will refresh your python
knowledge and build upon it. Again, we advise you to code in Spyder, as
this IDE is the recommended IDE for the python part of this course.</p>
<p>First, make a directory structure for this tutorial:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">cd ~/Documents/
mkdir PythonRefresher #or give the directory a name to your liking
cd ./PythonRefresher
mkdir output</code></pre>
</div>
<p>We only make a directory for output, because no input data or
separate scripts are created in this tutorial. Next, we will create a
conda environment from a file. First create a text file in your
preferred text editor, e.g. <code>gedit</code>. Then, (re)name it (to)
<code>refresher.yaml</code>, and copy the following content into the
file:</p>
<pre><code>name: refresher
dependencies:
  - python
  - numpy
  - matplotlib
  - geopandas
  - spyder</code></pre>
<p>Now, create a new conda environment based on this file:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">mamba env create --file refresher.yaml</code></pre>
</div>
<p>Once everything is installed, activate the environment and start
Spyder:</p>
<div class="row">
<button class="source bash toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> bash source
</button>
<pre style=""><code class="source bash">source activate refresher
spyder</code></pre>
</div>
<p>Create a new Python script and save it.</p>
<p>Important to note: for compatibility, it is best to install packages
from the same channel as much as possible. Given that packages in the
file <code>refresher.yaml</code> are installed from the
<code>conda-forge</code> channel, it is wise to use this same channel
when you want to install additional packages in your environment.</p>
<h2 id="quick-refresher">Quick refresher</h2>
<p>In the tutorial about R and Python we have gone over the differences
and similarities of python and R. This tutorial also contains some basic
python syntax, in this tutorial we assume you know this content, but we
will go over a few basics here as well. The example below are mostly
meant for reference purposes, we assume you understand most of this
refresher already.</p>
<h3 id="printing-and-basic-data-types">Printing and basic data
types</h3>
<p>In python we assign variable using the equals sign
(<code>=</code>):</p>
<p>Printing in python is done using the <code>print</code> function. We
can print variables directly:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python"># Integer
age = 25

# Float
height = 1.75

# String
name = "John Doe"

# Boolean
is_student = True

# Print a name
print(name)</code></pre>
</div>
<p>We can use string formatting to use flexible strings, for example for
printing. to start a formatted string, we put a <code>f</code> before
the string. We can use curly brackets <code>{}</code> in this formatted
string. The text between these curly brackets is executed as regular
python code.</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python"># String formatting and printing 
print(f'{name} is {age} years old and is {height} meters tall.)</code></pre>
</div>
<h3 id="basic-arithmetic-operations">Basic arithmetic operations:</h3>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">a = 10
b = 5

addition = a + b
subtraction = a - b
multiplication = a * b
division = a / b
modulo = a % b
exponentiation = a ** b

print(addition, subtraction, multiplication, division, modulo, exponentiation)</code></pre>
</div>
<h3 id="conditional-statements">Conditional statements</h3>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">x = 15

if x > 10:
    print("x is greater than 10")
elif x == 10:
    print("x is equal to 10")
else:
    print("x is less than 10")</code></pre>
</div>
<h3 id="loops-for-and-while">Loops (for and while)</h3>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python"># For loop
for i in range(5):
    print(i)

# While loop
count = 0
while count < 5:
    print(count)
    count += 1</code></pre>
</div>
<h3 id="lists-and-basic-list-operations">Lists and basic list
operations</h3>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python"># Creating a list
fruits = ["apple", "banana", "orange"]

# Accessing elements
print(fruits[0])  # Output: "apple"

# Adding elements
fruits.append("grape")

# Removing elements
fruits.remove("banana")

# Length of the list
print(len(fruits))  # Output: 3</code></pre>
</div>
<h3 id="functions">Functions</h3>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python"># Function to add two numbers and return the result
def add_numbers(a, b):
    return a + b

result = add_numbers(5, 3)
print(result)  # Output: 8</code></pre>
</div>
<h3 id="dictionaries">Dictionaries</h3>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python"># Creating a dictionary
person = {
    "name": "Alice",
    "age": 30,
    "is_student": False
}

# Accessing values
print(person["name"])  # Output: "Alice"

# Adding a new key-value pair
person["occupation"] = "Engineer"

# Removing a key-value pair
del person["is_student"]</code></pre>
</div>
<h3 id="importing-packages">Importing packages</h3>
<p>Python is used by a very large community, as is said before. One of
the reasons for this is that this entire community builds a lot of (open
source) packages. It is therefor very useful to be able to build upon
these packages. In R you have worked a with <em>dataframes</em> and
<em>spatial dataframes</em>. In Python these are not standard datatypes,
but they are implemented in very well known packages called
<code>Pandas</code> and its spatial counterpart <code>GeoPandas.</code>
We will go in much more detail during the Python-Vector tutorial but we
will introduce them quickly here.</p>
<p>In python we import a package using the <code>import</code> statement
(instead of th the <code>library</code> function in R) . For example
importing the pandas package goes as follows</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">import pandas as pd</code></pre>
</div>
<p>As you can see we can import a package <em>as</em> something. We use
this if we want to point at specific functionality of this package. If
we want to point at for example the <code>read_csv</code> function from
pandas we we call <code>pd.read_csv</code>. This function is also
implemented in other packages, but now we are sure we use the pandas
version of this function. Importing pandas is a convention, used very
widely in the python community.</p>
We can create a <code>dataframe</code> as follows:
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">data = {
    'Name': ['Alice', 'Bob', 'Charlie'],
    'Age': [25, 30, 22],
    'City': ['New York', 'San Francisco', 'Chicago']
}

df = pd.DataFrame(data)
print(df)</code></pre>
</div>
<p>We can access some information from this <code>dataframe</code> as
follows:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python"># Display the first few rows of the DataFrame
print(df.head())

# Get statistical information about the DataFrame
print(df.describe())

# Access a specific column
print(df['Age'])</code></pre>
</div>
<h3 id="geodataframe">GeoDataFrame</h3>
The spatial counterpart of a <code>dataframe</code> is a ‘GeoDataFrame’,
which we normally import <em>as</em> <code>gpd</code>:
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">import geopandas as gpd

# Dummy data for the GeoDataFrame
data = {
    'Name': ['Location A', 'Location B', 'Location C'],
    'Latitude': [40.7128, 34.0522, 41.8781],
    'Longitude': [-74.0060, -118.2437, -87.6298]
}

# Create the GeoDataFrame with a single line of code
gdf = gpd.GeoDataFrame(data, geometry=gpd.points_from_xy(data['Longitude'], data['Latitude']))

# Display the GeoDataFrame
print(gdf)</code></pre>
</div>
<h2 id="object-oriented-programming-in-python">Object-Oriented
Programming in Python</h2>
<p>We have now gone over most of the more basic basic functionality of
Python, a lot of similar things you have used in R. A concept we have
not used before is the concept of objects. They have shortly been
introduced in R, but we will elaborate on them in Python. Up until now,
in this course we have looked at R mainly as a scripting language, we
call this way of programming Procedural Programming. Both Python and R
can be used in another programming paradigm: Object Oriented
Programming. Object Oriented Programming (OOP) is a way of programming
where functionality and information is encapsulated in objects. Instead
of assigning variables and functions, objects are used where both values
(properties) and calculations (methods) can be stored together. This
offers several advantages. OOP promotes modularity and re-usability by
breaking down complex problems into smaller, manageable units, these are
the objects. These objects can be reused in various parts of the program
or even in other projects, leading to more efficient, scalable and
organized programming. Especially when working on projects containing
lots of code OOP will make your work a lot easier to understand for you
and others and it is easier to re-use parts of the code.</p>
<h3 id="how-to-work-with-objects-in-python">How to work with objects in
Python</h3>
<p>In Python, objects are created and manipulated using classes. A class
serves as a blueprint that defines the structure and behavior of
objects. It brings together data (properties) and functions (methods)
into a single object. To define a class in Python, we use the
<code>class</code> keyword, followed by the name of the class. Let’s
take a look at an example of a simple class called
<code>Person</code>:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">class Person:
    def __init__(self, name, age):
        self.name = name  # < this is a property
        self.age = age    # < this is also a property
    
    def greet(self):  # < This "function" is a method
        print(f"Hello, my name is {self.name} and I'm {self.age} years old.")</code></pre>
</div>
<p>In the provided code, the <code>__init__</code> method is a special
method known as a <em>constructor</em>. It is automatically called when
an object is created from the class. The <code>self</code> parameter
refers to the instance of the class itself, allowing access to its
properties and methods. Whenever a method is defined within a
<code>class</code>, we give <code>self</code> as the first
parameter.</p>
<p>The <code>Person</code> class has two properties, <code>name</code>
and <code>age</code>, as well as one method, <code>greet</code>. The
<code>greet</code> method prints a greeting message that includes the
person’s name and age.</p>
<p>To create an instance of the <code>Person</code> class, you simply
call the class as if it were a function and assign the result to a
variable:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">person1 = Person("Alice", 25)
person2 = Person("Bob", 30)</code></pre>
</div>
<p>We have created two objects, <code>person1</code> and
<code>person2</code>, which are instances of the <code>Person</code>
class. Now we can access the properties and call the methods of these
objects:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">print(person1.name)  # Output: Alice
print(person2.age)   # Output: 30
person1.greet()      # Output: Hello, my name is Alice and I'm 25 years old.
person2.greet()      # Output: Hello, my name is Bob and I'm 30 years old.</code></pre>
</div>
<p>This example is straightforward, but keep in mind that classes can
become more complex.</p>
<div class="row">
<div class="alert alert-success">
<blockquote>
<p>
<strong>Question 1</strong>: Take a look at the creation of a GeoPandas
<code>GeoSeries</code> <a
href="https://github.com/geopandas/geopandas/blob/main/geopandas/geoseries.py#L83">here</a>.
It may seem complicated and hard to read, but it is well-documented, so
try to understand some of its functionality. The <code>to_json</code>
method, for example, provides straightforward functionality (though it
may still be challenging to read due to its complexity).
</p>
</blockquote>
</div>
</div>
<p>You may have noticed that class definitions differ from what we have
learned. In the <code>GeoPandas</code> example, the class is defined as
follows:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">class GeoSeries(GeoPandasBase, Series):</code></pre>
</div>
<p>However, we previously learned to define a class like this:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">class GeoSeries:</code></pre>
</div>
<p>The difference lies in the code within the parentheses, which
represents <em>inheritance</em>. The class will inherit all the
functionality from the classes specified as arguments, in this case,
<code>GeoPandasBase</code> and <code>Series</code>. The
<code>Series</code> object refers to the <a
href="https://github.com/pandas-dev/pandas/blob/main/pandas/core/series.py#L243C15-L243C15">Pandas.Series</a>,
which contains thousands of lines of code with various functionality.
Therefore, the GeoPandas <code>GeoSeries</code> contains all the
functionality implemented in Pandas, as well as those from
<code>GeoPandasBase</code> and <code>GeoPandas.Series</code>itself. When
new functionality is developed for the <code>Pandas</code> package, this
is directly available in the <code>GeoPandas</code> objects, since we
inherit all functionality from pandas.</p>
<p>Phew, that’s a lot of complicated code, and it may seem overwhelming.
You don’t need to understand every detail. The important thing is to
grasp the value of classes, objects, and inheritance. When creating a
class, we can inherit functionality from another class. How does this
work in a simple example?</p>
<p>So, we’ve learned that with inheritance, classes can acquire all the
functionality from other classes and build upon that. Let’s create a new
object called <code>Student</code>, which will inherit all the
properties and methods from the <code>Person</code> class we defined
earlier.</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">class Student(Person):
    def __init__(self, name, age, student_id):
        super().__init__(name, age)
        self.student_id = student_id
        self.is_studying = False
    
    def study(self):
        self.is_studying = True
        print(f"{self.name} is studying.")</code></pre>
</div>
<p>In the provided code, the <code>Student</code> class inherits from
the <code>Person</code> class, which we will refer to as the superclass.
By doing so, it extends the functionality of the superclass by adding a
new property (<code>student_id</code>) and a new method
(<code>study</code>). The <code>super()</code> function is used to call
the superclass’s <code>__init__</code> method, allowing the subclass to
initialize the inherited properties.</p>
<p>As a result, the <code>Student</code> class contains both the methods
and properties inherited from the <code>Person</code> class, as well as
the additional ones defined within the <code>Student</code> class:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">student = Student("Eve", 22, "123456")
print(student.name)         # Output: Eve
print(student.student_id)   # Output: 123456
student.greet()             # Output: Hello, my name is Eve and I'm 22 years old.
student.study()             # Output: Eve is studying.</code></pre>
</div>
<p>In this example, <code>student</code> is an instance of the
<code>Student</code> class. It can access the inherited properties from
the <code>Person</code> class, such as <code>name</code>, as well as the
newly added property <code>student_id</code> and
<code>is_studying</code>, which defaults to <code>False</code>.
Similarly, it can invoke both the inherited method <code>greet</code>
and the additional method <code>study</code>, which are specific to the
<code>Student</code> class. The method <code>study</code> prints a
message and sets the <code>is_studying</code> property to
<code>True</code>.</p>
<div class="row">
<div class="alert alert-success">
<blockquote>
<p>
<strong>Question 2</strong>: Create a new class called
<code>Teacher</code>. This new class also inherits from
<code>Person</code>. Define a method for the teacher that checks whether
a student is studying. The student should be an input to the method.
</p>
</blockquote>
</div>
</div>
<h2 id="visualization">Visualization</h2>
<p>Visualization is essential to make concepts understandable and
patterns recognizable. In Python, <em>Matplotlib</em> is a general
plotting package. It is used as a base for many other, more tailored,
packages. One of the core advantages of Matplotlib is that the
representation of figure is separated from the act of rendering it. This
enables building increasingly sophisticated features and logic into the
figure, a bit like making a map in a GIS.</p>
<p>In Matplotlib, a <em>figure</em> object contains <em>axes</em>, or
subplots. These axes contain an x-axis, a y-axis and can contain lines
and text. This hierarchy is important to understand when you want to
edit a plot:</p>
<figure>
<img src="images/mpl_structure.png" alt="matplotlib class structure" width="80%">
<figcaption>
Matplotlib hierarchy of figure elements, source
https://www.aosabook.org/en/matplotlib.html.
</figcaption>
</figure>
<figure>
<img src="images/mpl_simple_plot.png" alt="matplotlib simple plot" width="50%">
<figcaption>
Elements in an example Matplotlib figure, source
https://www.aosabook.org/en/matplotlib.html.
</figcaption>
</figure>
<p>Let’s create a simple line figure, based on data in
<code>NumPy.array</code>s.</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">import numpy as np
from matplotlib import pyplot as plt

# Create some data
x = np.arange(-np.pi, np.pi, 0.2)
y = np.sin(x)

# Plot x against y
plt.plot(x, y)

# Show the plot
plt.show()</code></pre>
</div>
<p><img src="images/mpl1.png" alt="matplotlib simple figure" width="50%"></img></p>
<p>Note that the behavior of <code>plt.show()</code> depends on how you
run the script. If you are using Spyder and want <code>plt.show()</code>
to work:</p>
<ol style="list-style-type: decimal">
<li>Go to Tools.</li>
<li>Go to Preferences.</li>
<li>Select IPython console.</li>
<li>Go to Graphics tab.</li>
<li>In the Graphics backend section, select Automatic as the backend
type.</li>
<li>Restart your kernel.</li>
</ol>
<p>Instead of a single plot, the figure can have subplots (here two).
Using the <code>sharex</code> and/or <code>sharey</code> argument, the
axes can be aligned automatically, for easy comparison between the
subplots. Also, we can add a title and axis labels. Finally, we can
change the positions of the tick marks on an axis to something
meaningful in the context of trigonometric functions and customize the
labels with regular text or lateX. Check if you understand what object
in the hierarchy is edited and why.</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">import numpy as np
from matplotlib import pyplot as plt

# Create some data
x1 = np.arange(-np.pi, np.pi, 0.2)
y1 = np.sin(x1)
x2 = np.arange(-np.pi, 0, 0.2)
y2 = np.cos(x2)

# Initiate a figure with two subplots 
f, axarr = plt.subplots(2, sharex=True)

# Subplots are stored in an array
line = axarr[0].plot(x1, y1)
axarr[0].set_title('plot 1')
axarr[1].plot(x2, y2)
axarr[1].set_title('plot 2')
f.suptitle('super title', fontsize=16)

# Axis label
axarr[1].set_xlabel('x')
axarr[0].set_ylabel('sin(x)')
axarr[1].set_ylabel('cos(x)')

# Axis ticks and tick labels
xticks = axarr[1].get_xticks()
print(xticks)
new_ticks = np.arange(-np.pi, np.pi + 0.1, 0.25 * np.pi)
new_labels = [r"$-\pi$", r"$-\frac{3}{4}\pi$",
              r"$-\frac{1}{2}\pi$", r"$-\frac{1}{4}\pi$",
              "$0$", r"$\frac{1}{4}\pi$",
              r"$\frac{1}{2}\pi$", r"$\frac{3}{4}\pi$",
              r"$2\pi$"]
axarr[1].set_xticks(new_ticks)
axarr[1].set_xticklabels(new_labels)
plt.show()</code></pre>
</div>
<p><img src="images/mpl2.png" alt="two subplots with shared x-axis" width="50%"></img></p>
<p>One can also create multiple subplots (axes) and use different
plotting styles, changing e.g. the marker style, line style, marker
size, and colors. Furthermore, for the upper left subplot it is
demonstrated how to add a legend; adding a label to the plotted line is
essential for this.</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">from matplotlib import pyplot as plt

x = [1, 2, 3, 4, 5]
y = [6, 7, 8, 9, 10]

# New: define number of rows and columns of subplots and unpack them directly 
# into variables that then each contain one axes object
f, ((ax0, ax1), (ax2, ax3)) = plt.subplots(2, 2)

# Dashed line, label for legend, and show the legend on the subplot
ax0.plot(x, y, 'r--', label='red dashed line')
ax0.legend(loc='lower right')

# Scatter plot, using a colormap based on the y-value, changing the marker size to 35
ax1.scatter(x, y, c=y, cmap='bwr', s=35)

# Bar chart, changing the bar color to black
ax2.bar(x, y, color='k')

# Horizontal bar chart, changing the bar color to yellow
ax3.barh(x, y, color='y')
plt.show()</code></pre>
</div>
<p><img src="images/mpl3.png" alt="matplotlib plot type examples" width="50%"></img></p>
<div class="row">
<div class="alert alert-success">
<blockquote>
<p>
<strong>Question 3</strong>: In the upper right subplot, why is there no
point at x=3, y=8?.
</p>
</blockquote>
</div>
</div>
<p>When working with spatial data, it is crucial that the spatial scale
(aspect) in the x and y direction is the same. Because Matplotlib can be
used for plotting any kind of data, not necessarily spatial, it does not
automatically do this. We can use <code>plt.axis('equal')</code>, or
<code>ax.set_aspect('equal')</code> on the axis, to ensure equal scales
in both directions. Let’s test this on the non-spatial data in the plots
above, see what happens (make sure to adjust the code above properly,
and replace <code>plt.show()</code> with the code below). Adjust the
Spyder working directory by clicking on the directory icon in the top
right pane if necessary.</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">ax0.set_aspect('equal')
ax1.set_aspect('equal')
ax2.set_aspect('equal')
ax3.set_aspect('equal')
plt.savefig('output/equal_scale.png')</code></pre>
</div>
<p><img src="images/mpl4.png" alt="matplotlib plot example with equal scale" width="50%"></img></p>
<h1 id="python-help">Python help</h1>
<p>There are several ways to find help with programming in Python.
Searching the internet typically solves your problem the quickest,
because it finds answers on multiple platforms, such as StackOverflow
and Github. During Geoscripting we have the forum to ask and give help.
Asking your friends or colleagues in person is also a great way to learn
and fix programming problems. Another good option is get documentation
from the package website or inside Python:</p>
<div class="row">
<button class="source Python toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> Python source
</button>
<pre style=""><code class="source python">import sys
help(sys)</code></pre>
</div>
<p>See how the objects and functions in the <code>sys</code> package got
listed.</p>
<div class="row">
<div class="alert alert-success">
<blockquote>
<p>
<strong>Question 4</strong>: What kind of functionality does the
<code>sys</code> package provide?
</p>
</blockquote>
</div>
</div>
<h1 id="what-have-we-learned">What have we learned?</h1>
<ol style="list-style-type: decimal">
<li>Python package management with <em>Mamba</em> &amp;
<em>Conda</em></li>
<li>Running a Python script in the terminal</li>
<li>Using Python editors and IDEs</li>
<li>What Object Oriented Programming is</li>
<li>Using modules and packages</li>
<li>Visualization</li>
<li>Python help</li>
</ol>
<h1 id="more-info">More info</h1>
<ul>
<li><a href="https://docs.Python.org/3/contents.html">Official Python
tutorial</a></li>
<li><a href="https://www.python.org/dev/peps/pep-0008/">Python Style
guide</a></li>
<li><a href="https://ugoproto.github.io/ugo_py_doc/py_cs/">Python 3
Cheatsheet</a></li>
<li><a
href="https://www.datacamp.com/community/data-science-cheatsheets?tag=python">Overview
Python package Cheatsheets</a>
</div>
</div>
</div>
<div id="push">

</div>
<div id="footer">
<div class="container">
<p class="text-muted" id="credit">
Styled with
<a href="https://github.com/jimhester/knitrBootstrap">knitrBootstrap</a>
</p>
</div>
</div>
<link rel="stylesheet" id="theme" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/simplex/bootstrap.min.css" media="screen"></link><link rel="stylesheet" id="highlight" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/tomorrow-night-bright.min.css" media="screen"></link>
</div></li>
</ul>
</body>
</html>
